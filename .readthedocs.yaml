# Copyright (c) 2024-2026 CRS4
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Read the Docs configuration file for Sphinx projects
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details

# Required
version: 2

# Set the OS, Python version and other tools you might need
build:
    os: ubuntu-22.04
    tools:
        python: "3.10"

    jobs:
        post_create_environment:
        # Install poetry
        # https://python-poetry.org/docs/#installing-manually
        - python -m pip install poetry
        post_install:
        # Install dependencies with 'docs' dependency group
        # https://python-poetry.org/docs/managing-dependencies/#dependency-groups
        - VIRTUAL_ENV=$READTHEDOCS_VIRTUALENV_PATH poetry install --with docs

# Build documentation in the "docs/" directory with Sphinx
sphinx:
    configuration: docs/conf.py
    # You can configure Sphinx to use a different builder, for instance use the dirhtml builder for simpler URLs
    builder: "dirhtml"
    # Fail on all warnings to avoid broken references
    # fail_on_warning: true
# Optionally build your docs in additional formats such as PDF and ePub
# formats:
#   - pdf
#   - epub

# Optional but recommended, declare the Python requirements required
# to build your documentation
# See https://docs.readthedocs.io/en/stable/guides/reproducible-builds.html
# python:
#     install:
#     - requirements: docs/requirements.txt
